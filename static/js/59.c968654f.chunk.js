(this["webpackJsonpportfolio-app"]=this["webpackJsonpportfolio-app"]||[]).push([[59],{360:function(i,n,t){"use strict";t.r(n),t.d(n,"LinkInstance",(function(){return s}));var e=t(45);function o(i,n){const t=((o=i.map((i=>i.id))).sort(((i,n)=>i-n)),o.join("_"));var o;let s=n.get(t);return void 0===s&&(s=Object(e.F)(),n.set(t,s)),s}class s{constructor(i){this.container=i,this._drawLinkLine=(i,n)=>{const t=i.options.links;if(null===t||void 0===t||!t.enable)return;const o=this.container,s=o.actualOptions,a=n.destination,l=i.getPosition(),c=a.getPosition();let r=n.opacity;o.canvas.draw((n=>{var d,p,k;let u;const y=null===(d=i.options.twinkle)||void 0===d?void 0:d.lines;if(null!==y&&void 0!==y&&y.enable){const i=y.frequency,n=Object(e.eb)(y.color);Object(e.F)()<i&&n&&(u=n,r=Object(e.H)(y.opacity))}if(!u){const n=void 0!==t.id?o.particles.linksColors.get(t.id):o.particles.linksColor;u=Object(e.C)(i,a,n)}if(!u)return;const h=null!==(p=i.retina.linksWidth)&&void 0!==p?p:0,b=null!==(k=i.retina.linksDistance)&&void 0!==k?k:0,{backgroundMask:g}=s;!function(i){let n=!1;const{begin:t,end:o,maxDistance:s,context:a,canvasSize:l,width:c,backgroundMask:r,colorLine:d,opacity:p,links:k}=i;if(Object(e.y)(t,o)<=s)Object(e.v)(a,t,o),n=!0;else if(k.warp){let i,c;const r={x:o.x-l.width,y:o.y},d=Object(e.z)(t,r);if(d.distance<=s){const n=t.y-d.dy/d.dx*t.x;i={x:0,y:n},c={x:l.width,y:n}}else{const n={x:o.x,y:o.y-l.height},a=Object(e.z)(t,n);if(a.distance<=s){const n=-(t.y-a.dy/a.dx*t.x)/(a.dy/a.dx);i={x:n,y:0},c={x:n,y:l.height}}else{const n={x:o.x-l.width,y:o.y-l.height},a=Object(e.z)(t,n);if(a.distance<=s){const n=t.y-a.dy/a.dx*t.x;i={x:-n/(a.dy/a.dx),y:n},c={x:i.x+l.width,y:i.y+l.height}}}}i&&c&&(Object(e.v)(a,t,i),Object(e.v)(a,o,c),n=!0)}if(!n)return;a.lineWidth=c,r.enable&&(a.globalCompositeOperation=r.composite),a.strokeStyle=Object(e.K)(d,p);const{shadow:u}=k;if(u.enable){const i=Object(e.eb)(u.color);i&&(a.shadowBlur=u.blur,a.shadowColor=Object(e.K)(i))}a.stroke()}({context:n,width:h,begin:l,end:c,maxDistance:b,canvasSize:o.canvas.size,links:t,backgroundMask:g,colorLine:u,opacity:r})}))},this._drawLinkTriangle=(i,n,t)=>{var o;const s=i.options.links;if(null===s||void 0===s||!s.enable)return;const a=s.triangles;if(!a.enable)return;const l=this.container,c=l.actualOptions,r=n.destination,d=t.destination,p=null!==(o=a.opacity)&&void 0!==o?o:.5*(n.opacity+t.opacity);p<=0||l.canvas.draw((n=>{var t;const o=i.getPosition(),k=r.getPosition(),u=d.getPosition(),y=null!==(t=i.retina.linksDistance)&&void 0!==t?t:0;if(Object(e.y)(o,k)>y||Object(e.y)(u,k)>y||Object(e.y)(u,o)>y)return;let h=Object(e.eb)(a.color);if(!h){const n=void 0!==s.id?l.particles.linksColors.get(s.id):l.particles.linksColor;h=Object(e.C)(i,r,n)}h&&function(i){const{context:n,pos1:t,pos2:o,pos3:s,backgroundMask:a,colorTriangle:l,opacityTriangle:c}=i;!function(i,n,t,e){i.beginPath(),i.moveTo(n.x,n.y),i.lineTo(t.x,t.y),i.lineTo(e.x,e.y),i.closePath()}(n,t,o,s),a.enable&&(n.globalCompositeOperation=a.composite),n.fillStyle=Object(e.K)(l,c),n.fill()}({context:n,pos1:o,pos2:k,pos3:u,backgroundMask:c.backgroundMask,colorTriangle:h,opacityTriangle:p})}))},this._drawTriangles=(i,n,t,e)=>{var o,s,a;const l=t.destination;if(null===(o=i.links)||void 0===o||!o.triangles.enable||null===(s=l.options.links)||void 0===s||!s.triangles.enable)return;const c=null===(a=l.links)||void 0===a?void 0:a.filter((i=>{const n=this._getLinkFrequency(l,i.destination);return l.options.links&&n<=l.options.links.frequency&&e.findIndex((n=>n.destination===i.destination))>=0}));if(null!==c&&void 0!==c&&c.length)for(const r of c){const e=r.destination;this._getTriangleFrequency(n,l,e)>i.links.triangles.frequency||this._drawLinkTriangle(n,t,r)}},this._getLinkFrequency=(i,n)=>o([i,n],this._freqs.links),this._getTriangleFrequency=(i,n,t)=>o([i,n,t],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}async drawParticle(i,n){const{links:t,options:e}=n;if(null===t||void 0===t||!t.length)return;const o=t.filter((i=>e.links&&this._getLinkFrequency(n,i.destination)<=e.links.frequency));for(const a of o){var s;this._drawTriangles(e,n,a,o),a.opacity>0&&(null!==(s=n.retina.linksWidth)&&void 0!==s?s:0)>0&&this._drawLinkLine(n,a)}await Promise.resolve()}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(i){if(i.links=[],!i.options.links)return;const n=this.container.retina.pixelRatio,{retina:t}=i,{distance:e,width:o}=i.options.links;t.linksDistance=e*n,t.linksWidth=o*n}particleDestroyed(i){i.links=[]}}}}]);
//# sourceMappingURL=59.c968654f.chunk.js.map